<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>Regular Expression Filters for WinMerge</title>
</head>

<body>

<h3>Regular Expression Filters for WinMerge</h3>
<hr>
<p>After spending too much time trying to understand how line filters work in
WinMerge, I gave up and decided to write this plug-in so that I won't lose time
again.<br>
I'm sharing it for the community to gather feedbacks and improvements. I
developed this overnight. Do not expect too much robustness. My feeling is it
works.<br>
If it doesn't for you, give me an example or post to forum. I'll try to improve
this as I find time.<br>
<br>
There are two plug-ins available for WinMerge. They enable you to filter
unimportant text during comparison. There is a central rule file which is
located<br>
on your c:\ folder. (The folder is fixed as of this moment. We can fix this
later).<br>
<br>
See the <a href="https://sourceforge.net/projects/regexfilterforw/files/">
SourceForge website</a> for an example rule file.</p>
<p>&nbsp;</p>
<h2>Installation</h2>
<p>Download the zip that contains the binaries directly from
<a href="https://sourceforge.net/projects/regexfilterforw/files/">here</a>.
Download the example rule file too.</p>
<ol>
	<li>copy your rule file to c:\ and name it as regexrules.txt. You can use the
example as a starter.</li>
	<li>Place regexPrefilter.dll and regexUnpacker.dll to your plugins folder of
	WinMerge (usually c:\Program Files\WinMerge\MergePlugins).</li>
	<li>If you
are willing to use regexUnpacker, delete or remove ignoreCommentsC.dll from
plugins folder. Choose automatic unpacking from winmerge.</li>
	<li>Enable the plug-ins by going to Plugins menu item and then choose List,&nbsp;
	click on Enable plugins checkbox.<br><br>Known problems: sometimes unpacking works sometimes it does not. Closing and
reopening winmerge helps.<br><br>There are two version of the same plug-in.</li>
</ol>
<ul>
	<li>preDiffer </li>
	<li>Unpacker.<br>
&nbsp;</li>
</ul>
<p>&nbsp;</p>
<h3>1) PreDiffer</h3>
<p>preDiffer plug-in is used to apply regular expression filtering on per file
basis. You compare your files as usual. Then enable the preDiffer<br>
from plug-ins menu.<br>
<br>
It tries to hide unimportant differences according to rules in regexrules file.<br>
The caveat is that you 'll have to enable it every time you compare the files.
It is off by default.<br>
I could not find a way to enable it by default. Maybe this behavior will change
overtime.</p>
<h3>2) Unpacker</h3>
<p>WinMerge unpackers are associated with file extensions. There may be multiple
unpackers per file type. I have removed ignoreCommentsC plugin from<br>
my WinMerge installation folder so that regex unpacker can have a chance to
work. WinMerge chooses the unpacker according to alphabetical order.<br>
When WinMerge sees a file of known extension, it executes the unpacker on every
matching file on a directory comparison. This is more useful then preDiffer<br>
if you have too many changed files. You'll not be able to modify the compared
files as the shown file is different from what it is in the original place.<br>
Use your text editor for changing differences.</p>
<p>Unpackers can be enabled/disabled from Plugins menu item. Choose automatic
unpacking if you want to ignore the files that you are not interested in. Then,
start your comparision.</p>
<h2>Usual Practice</h2>
<p>I usually compare the folder using the unPacker first.
</p>
<ol>
	<li>Enable automatic unpacker from plugins menu while all the files are
	close. </li>
	<li>Go to Plugins menu and then choose List. </li>
	<li>Choose regexUnpacker and </li>
	<li>Then start your folder comparison.</li>
</ol>
<p>Do not belive in the description. I stole the solution file from XML unpacker.
I'll fix the description one day.</p>
<p>This eliminates all the files that I'm not interested
in.
</p>
<p>After the comparison, I turn off the automatic filter by choosing the Manual
Unpacking from plug-ins menu.
</p>
<p>Next, I open the file by double clicking it. It is
going to show all the important and unimportant differences.
</p>
<p>Go-to Plugins menu
item again. Choose prediffer and then regexPrefilter.dll.
</p>
<p>Unimportant
differences are gone again.
</p>
<p>The nice thing about prefilter mode is that you can
modify the files on the fly. You can change them and save them because
differences are still visible. It is just WinMerge that does not highlight them
as different. This allows you to make all of your changes on a single program.
You do not need to move forth and back between your editor and comparision tool.
</p>
<p>Don't forget to disable unpacking if you want to use preDiffer. Otherwise,
WinMerge will tell you that you cannot save your modification.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

</body>

</html>
